function updateTimetable(_callback){if("closed"==readCookie("infoClosed")){var dayTEMP;console.log("updateTimetable was excecuted."),idnumber=$("#id-input-box").val(),checkIfIDTextFits(),width=$(window).width()+6,height=window.innerHeight-$(".navbar").height()+1,dayOnly=$("#input-day").is(":checked"),idnumber.length>0&&$("#background-roller").fadeIn("fast"),savePosition=$(".savebutton").offset(),width>820?($(".savedIDs").css("right",0),$(".savedIDs").css("top",50),$(".savedIDs").css("transform","none")):($(".savedIDs").css("left","auto"),$(".savedIDs").css("top","auto"),$(".savedIDs").css("transform","none")),dayOnly?($("#input-day-label").text("Show week"),dayTEMP=day):($("#input-day-label").text("Show day"),dayTEMP=0);var SUSSY="sus"==idnumber.toLowerCase()||"ඞ"==idnumber.toLowerCase();if(SUSSY&&(window.location.href=requestURL+"ඞ"),idnumber.length>0){var url=requestURL+"API/GENERATE_HTML?id="+idnumber+"&day="+dayTEMP+"&week="+week+"&width="+width+"&height="+height+"&privateID="+(privateURL?"1":"0")+"&darkmode="+(darkmode?"1":"0")+"&darkmodesetting="+darkModeSetting+"&isMobile="+(mobileRequest?"1":"0");try{document.getElementById("schedule").classList.contains("menuBgBlur")&&(url+="&classes=menuBgBlur")}catch(e){console.error(e)}privateURL?console.log("Requesting schedule..."):console.log("Requesting schedule with this url : "+url),$.getJSON(url,function(data){if(data.result.html.startsWith("\x3c!-- ERROR --\x3e")||!saveIdToCookie||SUSSY||(createCookie("idnumber",idnumber,360),console.log("Saved ID to cookie")),!data.result.html.startsWith("\x3c!-- ERROR --\x3e")){var tdElement=document.getElementById("schedule"),trElement=tdElement.parentNode;trElement.removeChild(tdElement),trElement.innerHTML=data.result.html+trElement.innerHTML,$("#schedule").fadeOut(0);try{eval($("#scheduleScript").attr("script"))}catch(e){console.error(e)}$("#schedule").fadeIn(500),$("#schedule").css({transform:"none",opacity:1})}}),$(".arrow").removeClass("arrow-loading"),$(".arrow-center-text").text(week)}try{_callback()}catch{}}}