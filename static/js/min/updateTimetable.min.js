function updateTimetable(e){if(console.log("updateTimetable was excecuted."),"closed"!=readCookie("infoClosed"))return void console.log("infoClosed was not closed yet! (Cookies not accepted)");if(isNaN(school)||null==school||""==school||"null"==school)return console.log("School not set!"),void textBoxOpen("#text_school_selector");let o,t="",s=$("#id-input-box").val();for(i in range(s.length)){let e=s.charAt(i);"<>/!@#$%^&*()=".includes(e)||(t+=e)}if($("#id-input-box").val(t),$("#id-input-box2").val(t),checkIfIDTextFits(),width=$(window).width()+6,height=window.innerHeight+2,height-=$(".navbar").height(),dayOnly=$("#input-day").is(":checked"),t.length>0&&$("#background-roller").fadeIn("fast"),savePosition=$(".savebutton").offset(),width>820?($(".savedIDs").css("right",0),$(".savedIDs").css("top",50),$(".savedIDs").css("transform","none")):($(".savedIDs").css("left","auto"),$(".savedIDs").css("top","auto"),$(".savedIDs").css("transform","none")),dayOnly?($("#input-day-label").text("Show week"),o=day):($("#input-day-label").text("Show day"),o=0),"its dangerous to go alone"==t.toLowerCase()&&textBoxOpen("#text_tricks"),"sus"==t.toLowerCase()||"ඞ"==t.toLowerCase())window.location.href=requestURL+"ඞ";else{if(t.length>0){let e=requestURL+"API/GENERATE_HTML?id="+encodeURI(t)+"&day="+o+"&week="+week+"&width="+width+"&height="+height+"&privateID="+(privateURL?"1":"0")+"&darkmode="+(darkmode?"1":"0")+"&darkmodesetting="+darkModeSetting+"&isMobile="+(mobileRequest?"1":"0")+"&school="+encodeURI(school);if(e==oldURL)return console.log("URL and oldURL matched. Canceling..."),$("#schedule").fadeIn(500),void $("#schedule").css({transform:"none",opacity:1});oldURL=e;try{document.getElementById("schedule").classList.contains("menuBgBlur")&&(e+="&classes=menuBgBlur")}catch(e){console.error(e)}privateURL?console.log("Requesting schedule with private ID..."):console.log("Requesting schedule with this url : "+e),$.getJSON(e,function(e){let o=document.getElementById("schedule"),s=o.parentNode;if(s.removeChild(o),e.result.html.startsWith("\x3c!-- ERROR --\x3e")){let o=e.result.data.data.validation[0].message;console.log("\x3c!-- ERROR --\x3e Found in response!"),console.log(o),$("#background-roller").fadeOut("fast"),s.innerHTML='<p id="schedule" class="errorMessage">'+o+"</p>"+s.innerHTML,$("#scheduleBox").addClass("errorBox"),$("#schedule").fadeOut(0),$("#schedule").fadeIn(500)}else saveIdToCookie?(createCookie("idnumber",t,360),console.log("Saved ID to cookie")):console.log("Did not save ID to cookie, because saveIdToCookie is false"),s.innerHTML=e.result.html+s.innerHTML,$("#scheduleBox").removeClass("errorBox"),$("#schedule").fadeOut(0),$("#schedule").fadeIn(500),$("#schedule").css({transform:"none",opacity:1})}),$(".arrow").removeClass("arrow-loading"),$(".arrow-center-text").text(week)}try{e()}catch{}}}